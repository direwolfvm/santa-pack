<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>People</title>
</head>
<body>
  <h1 id="title">People</h1>
  <div id="peopleContainer">Loading...</div>
  <script>
    const params = new URLSearchParams(window.location.search);
    const familyId = params.get('familyId');
    const familyName = params.get('familyName');
    document.getElementById('title').textContent = `People in ${familyName}`;

    async function loadPeople() {
      const res = await fetch(`/api/families/${familyId}/people`);
      const people = await res.json();
      const container = document.getElementById('peopleContainer');
      container.innerHTML = '';
      if (people.length === 0) {
        container.textContent = 'No people yet.';
        return;
      }
      const ul = document.createElement('ul');
      people.forEach(p => {
        const li = document.createElement('li');
        li.textContent = p.name;
        ul.appendChild(li);
      });
      container.appendChild(ul);
    }

    loadPeople();
  </script>
</body>
</html>
